# Set the hostname
echo "$hostname" > /etc/hostname

# Set the system clock
ln -sf /usr/share/zoneinfo/$timezone /etc/localtime
hwclock --systohc

# Localization
echo "LANG=en_US.UTF-8" > /etc/locale.conf
locale-gen

# Network configuration (you can modify this based on your needs)
echo "127.0.0.1    localhost" >> /etc/hosts
echo "::1          localhost" >> /etc/hosts
echo "127.0.1.1    $hostname.localdomain $hostname" >> /etc/hosts

# Set the root password
echo "Setting root password..."
passwd

# Install and configure bootloader

# First necessary packages installation:
pacman -S grub efibootmgr osprober networkmanger vim sudo

# GRUB Installation and configuring:
grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=GRUB
grub-mkconfig -o /boot/grub/grub.cfg

# Exit chroot and unmount partitions
exit
umount -R /mnt
